<!DOCTYPE html>
<html>
<head>
    <title>ShuffledSight</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.5.0/jszip.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <style>
        /* Responsive styles */
        @media (max-width: 576px) {
            /* Adjust font size and margins for smaller screens */
            h1 {
                font-size: 24px;
                margin-top: 10px;
                margin-bottom: 10px;
            }
            .lead {
                font-size: 16px;
                margin-bottom: 20px;
            }
            .file-upload button,
            .description {
                margin-top: 20px;
            }
            .small.text-justify {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center"><i class="fa fa-random"></i> ShuffledSight <i class="fa fa-eye"></i></h1>
        <p class="lead text-center">Select your files and they will be randomly renamed to ensure an unbiased inspection. The whole process happens <b>in your device</b> so do not worry!</p>
        
        <div class="file-upload">
            <input type="file" id="files" name="files[]" multiple class="form-control" onchange="showFileNames()">
            <button id="deidentifyButton" onclick="startDeidentification()" class="btn btn-primary btn-block mt-3" disabled><i class="fa fa-random"></i> Deidentify</button>
            <a id="downloadLink" style="display: none;" class="btn btn-success btn-block mt-3"><i class="fa fa-download"></i> Download Deidentified Files and Dictionary</a>
            <button id="showFilesButton" onclick="toggleFileList()" class="btn btn-info btn-block mt-3" style="display: none;"><i class="fa fa-eye"></i> See Selected Files</button>
            <div id="fileList" class="alert alert-info mt-3" style="display: none;"></div>
        </div>

        <div class="description">
            <br>
            <p class="small text-justify"><b>ShuffledSight</b> is an intuitive, web-based deidentification tool designed to anonymize your file names, ensuring an unbiased viewing experience. Simply select your files and let ShuffledSight rename them with random identifiers.</p>
            <p class="small text-justify">Primarily designed for images but compatible with any file type, ShuffledSight randomly shuffles the order of your files, assigns new ordinal names while retaining the original extensions (e.g., file1.png, file2.png, fileN.png), and provides a tab-separated dictionary mapping the original names to the newly assigned ones (dictionary.tsv). The renamed files and the dictionary are encapsulated within a ZIP file and downloaded to your device upon request. All of these actions take place within your browser, ensuring data privacy.</p>  
            <p class="small text-justify">Whether you're a researcher looking to eliminate bias from your data analysis, a professional needing to anonymize sensitive files, or just looking for a simple tool to randomly rename files, ShuffledSight offers a straightforward solution. With ShuffledSight, you gain a fresh, unbiased perspective on your files.</p>
            <p class="small text-justify">The code for the creation of this webpage is open source and is available in <a href="https://github.com/alanlorenzetti/ShuffledSight">this GitHub repo.</a></p>
            <p class="small text-justify">If you find this tool useful, please consider buying me a coffee by clicking on the button below.</p>
        </div>      

        <div class="coffee text-center">
            <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="alorenzetti" data-color="#FFDD00" data-emoji="" data-font="Inter" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" ></script>
        </div>

        <button id="helpButton" onclick="toggleHelp()" class="btn btn-info btn-block mt-3"><i class="fa fa-question-circle"></i> Help</button>

        <div id="helpSection" style="display: none;">
            <br>
            <h2>How to Use</h2>

            <ol>
                <li><b>Select your files:</b> Click on the file selection area or drag and drop your files there. You can select multiple files of any type. Once files are selected, their names will be displayed in a list.</li>
                <br>
                <li><b>Start the deidentification process:</b> Click on the "Deidentify" button. This will initiate the process of randomly renaming your files. During this process, the button will display a "Processing... Please, wait" message.</li>
                <br>
                <li><b>Download your deidentified files and dictionary:</b> Once the deidentification process is complete, the "Deidentify" button will display a "Done!" message. At the same time, a "Download Deidentified Files and Dictionary" button will appear. Click on this button to download a ZIP file containing your deidentified files and a dictionary mapping the original names to the new names.</li>
                <br>
                <p>Please remember that ShuffledSight performs all actions within your browser, ensuring the privacy of your files. No data leaves your device during the process.</p>
            </ol>

            <h2>Use Cases</h2>
            <ol>
                <li>Imagine you're a scientist who has conducted an experiment to evaluate the potential of Compound A to induce DNA fragmentation. You have treated cell cultures with Treatment A, along with positive and negative controls, and have captured microscopy images for analysis. In order to prevent any bias in your visual inspection and analysis, it's crucial to be "blind" to the treatments each image represents. ShuffledSight is the perfect tool for this situation. It can randomly rename your image files, thereby ensuring a bias-free analysis, while keeping track of the original names for future reference.</li>
                <br>
                <li> If you're an educator who has received 20 essays in PDF format from your students, you're likely to want to grade these papers anonymously to ensure fairness. The problem is, the students' names are in the file names. But the body text do not contain any mention to their names. ShuffledSight can help you here, too. By randomly renaming the files, it allows you to score the essays without knowing their authors, ensuring an impartial grading process.</li>
                <br>
                <li>Suppose you're a juror involved in a photography competition. You've received hundreds of images and are tasked with judging them purely on their artistic merit, without any knowledge of the photographers' identities. However, the photographers' names are embedded in the filenames, creating a potential for unintentional bias. Here again, ShuffledSight comes to your rescue. By renaming your image files randomly, it provides an unbiased viewing experience, ensuring that your judgment is based purely on the quality of the work and not influenced by the reputation of the photographers.</li>
            </ol>
        </div>  

    </div>
    <script src="js/deidentifier.js"></script>
</body>
</html>
